# Snapshot report for `examples/napi/__test__/typegen.spec.ts`

The actual snapshot is saved in `typegen.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## should generate correct type def file

> Snapshot 1

    `/* tslint:disable */âŠ
    /* eslint-disable */âŠ
    âŠ
    /* auto-generated by NAPI-RS */âŠ
    âŠ
    export class ExternalObject<T> {âŠ
      readonly '': {âŠ
        readonly '': unique symbolâŠ
        [K: symbol]: TâŠ
      }âŠ
    }âŠ
    /** This is a const */âŠ
    export const DEFAULT_COST: numberâŠ
    export function getWords(): Array<string>âŠ
    /** Gets some numbers */âŠ
    export function getNums(): Array<number>âŠ
    export function sumNums(nums: Array<number>): numberâŠ
    export function toJsObj(): objectâŠ
    export function getNumArr(): number[]âŠ
    export function getNestedNumArr(): number[][][]âŠ
    export function readFileAsync(path: string): Promise<Buffer>âŠ
    export function asyncMultiTwo(arg: number): Promise<number>âŠ
    export function bigintAdd(a: bigint, b: bigint): bigintâŠ
    export function createBigInt(): bigintâŠ
    export function createBigIntI64(): bigintâŠ
    export function bigintGetU64AsString(bi: bigint): stringâŠ
    export function getCwd(callback: (arg0: string) => void): voidâŠ
    export function optionEnd(callback: (arg0: string, arg1?: string | undefined | null) => void): voidâŠ
    export function optionStart(callback: (arg0: string | undefined | null, arg1: string) => void): voidâŠ
    export function optionStartEnd(callback: (arg0: string | undefined | null, arg1: string, arg2?: string | undefined | null) => void): voidâŠ
    export function optionOnly(callback: (arg0?: string | undefined | null) => void): voidâŠ
    /** napi = { version = 2, features = ["serde-json"] } */âŠ
    export function readFile(callback: (arg0: Error | undefined, arg1?: string | undefined | null) => void): voidâŠ
    export function returnJsFunction(): (...args: any[]) => anyâŠ
    export function callbackReturnPromise<T>(functionInput: () => T | Promise<T>, callback: (err: Error | null, result: T) => void): T | Promise<T>âŠ
    export interface ObjectFieldClassInstance {âŠ
      bird: BirdâŠ
    }âŠ
    export function createObjectWithClassField(): ObjectFieldClassInstanceâŠ
    export function receiveObjectWithClassField(object: ObjectFieldClassInstance): BirdâŠ
    export function dateToNumber(input: Date): numberâŠ
    export function chronoDateToMillis(input: Date): numberâŠ
    export function chronoDateAdd1Minute(input: Date): DateâŠ
    export interface Dates {âŠ
      start: DateâŠ
      end?: DateâŠ
    }âŠ
    export function eitherStringOrNumber(input: string | number): numberâŠ
    export function returnEither(input: number): string | numberâŠ
    export function either3(input: string | number | boolean): numberâŠ
    export interface Obj {âŠ
      v: string | numberâŠ
    }âŠ
    export function either4(input: string | number | boolean | Obj): numberâŠ
    export function receiveClassOrNumber(either: number | JsClassForEither): numberâŠ
    export function receiveMutClassOrNumber(either: number | JsClassForEither): numberâŠ
    export function receiveDifferentClass(either: JsClassForEither | AnotherClassForEither): numberâŠ
    export function returnEitherClass(input: number): number | JsClassForEitherâŠ
    export function eitherFromOption(): JsClassForEither | undefinedâŠ
    export interface A {âŠ
      foo: numberâŠ
    }âŠ
    export interface B {âŠ
      bar: numberâŠ
    }âŠ
    export interface C {âŠ
      baz: numberâŠ
    }âŠ
    export function eitherFromObjects(input: A | B | C): stringâŠ
    /** default enum values are continuos i32s start from 0 */âŠ
    export const enum Kind {âŠ
      /** Barks */âŠ
      Dog = 0,âŠ
      /** Kills birds */âŠ
      Cat = 1,âŠ
      /** Tasty */âŠ
      Duck = 2âŠ
    }âŠ
    export const enum Empty {âŠ
      âŠ
    }âŠ
    /** You could break the step and for an new continuous value. */âŠ
    export const enum CustomNumEnum {âŠ
      One = 1,âŠ
      Two = 2,âŠ
      Three = 3,âŠ
      Four = 4,âŠ
      Six = 6,âŠ
      Eight = 8,âŠ
      Nine = 9,âŠ
      Ten = 10âŠ
    }âŠ
    export function enumToI32(e: CustomNumEnum): numberâŠ
    export function throwError(): voidâŠ
    export function createExternal(size: number): ExternalObject<number>âŠ
    export function createExternalString(content: string): ExternalObject<string>âŠ
    export function getExternal(external: ExternalObject<number>): numberâŠ
    export function mutateExternal(external: ExternalObject<number>, newVal: number): voidâŠ
    export function validateArray(arr: Array<number>): numberâŠ
    export function validateBuffer(b: Buffer): numberâŠ
    export function validateTypedArray(input: Uint8Array): numberâŠ
    export function validateBigint(input: bigint): bigintâŠ
    export function validateBoolean(i: boolean): booleanâŠ
    export function validateDate(d: Date): numberâŠ
    export function validateDateTime(d: Date): numberâŠ
    export function validateExternal(e: ExternalObject<number>): numberâŠ
    export function validateFunction(cb: () => number): numberâŠ
    export function validateHashMap(input: Record<string, number>): numberâŠ
    export function validateNull(i: null): booleanâŠ
    export function validateUndefined(i: undefined): booleanâŠ
    export function validateNumber(i: number): numberâŠ
    export function validatePromise(p: Promise<number>): Promise<number>âŠ
    export function validateString(s: string): stringâŠ
    export function validateSymbol(s: symbol): booleanâŠ
    export function validateOptional(input1?: string | undefined | null, input2?: boolean | undefined | null): booleanâŠ
    export function returnUndefinedIfInvalid(input: boolean): booleanâŠ
    export function returnUndefinedIfInvalidPromise(input: Promise<boolean>): Promise<boolean>âŠ
    export function tsRename(a: { foo: number }): string[]âŠ
    export function overrideIndividualArgOnFunction(notOverridden: string, f: () => string, notOverridden2: number): stringâŠ
    export function overrideIndividualArgOnFunctionWithCbArg(callback: (town: string, name?: string | undefined | null) => string, notOverridden: number): objectâŠ
    export function xxh64Alias(input: Buffer): bigintâŠ
    export function getMapping(): Record<string, number>âŠ
    export function sumMapping(nums: Record<string, number>): numberâŠ
    export function mapOption(val?: number | undefined | null): number | nullâŠ
    export function returnNull(): nullâŠ
    export function returnUndefined(): voidâŠ
    export function add(a: number, b: number): numberâŠ
    export function fibonacci(n: number): numberâŠ
    export function listObjKeys(obj: object): Array<string>âŠ
    export function createObj(): objectâŠ
    export function getGlobal(): typeof globalâŠ
    export function getUndefined(): voidâŠ
    export function getNull(): nullâŠ
    export interface AllOptionalObject {âŠ
      name?: stringâŠ
      age?: numberâŠ
    }âŠ
    export function receiveAllOptionalObject(obj?: AllOptionalObject | undefined | null): voidâŠ
    export const enum ALIAS {âŠ
      A = 0,âŠ
      B = 1âŠ
    }âŠ
    export interface AliasedStruct {âŠ
      a: ALIASâŠ
      b: numberâŠ
    }âŠ
    export function fnReceivedAliased(s: AliasedStruct, e: ALIAS): voidâŠ
    export interface StrictObject {âŠ
      name: stringâŠ
    }âŠ
    export function receiveStrictObject(strictObject: StrictObject): voidâŠ
    export function getStrFromObject(): voidâŠ
    export interface TsTypeChanged {âŠ
      typeOverride: objectâŠ
      typeOverrideOptional?: objectâŠ
    }âŠ
    export function createObjWithProperty(): { value: ArrayBuffer, get getter(): number }âŠ
    export function getterFromObj(): numberâŠ
    export function asyncPlus100(p: Promise<number>): Promise<number>âŠ
    /** This is an interface for package.json */âŠ
    export interface PackageJson {âŠ
      name: stringâŠ
      /** The version of the package */âŠ
      version: stringâŠ
      dependencies?: Record<string, any>âŠ
      devDependencies?: Record<string, any>âŠ
    }âŠ
    export function readPackageJson(): PackageJsonâŠ
    export function getPackageJsonName(packageJson: PackageJson): stringâŠ
    export function testSerdeRoundtrip(data: any): anyâŠ
    export function contains(source: string, target: string): booleanâŠ
    export function concatStr(s: string): stringâŠ
    export function concatUtf16(s: string): stringâŠ
    export function concatLatin1(s: string): stringâŠ
    export function roundtripStr(s: string): stringâŠ
    export function setSymbolInObj(symbol: symbol): objectâŠ
    export function createSymbol(): symbolâŠ
    export function withoutAbortController(a: number, b: number): Promise<number>âŠ
    export function withAbortController(a: number, b: number, signal: AbortSignal): Promise<number>âŠ
    export function callThreadsafeFunction(callback: (...args: any[]) => any): voidâŠ
    export function threadsafeFunctionThrowError(cb: (...args: any[]) => any): voidâŠ
    export function threadsafeFunctionFatalMode(cb: (...args: any[]) => any): voidâŠ
    export function threadsafeFunctionFatalModeError(cb: (...args: any[]) => any): voidâŠ
    export function useTokioWithoutAsync(): voidâŠ
    export function getBuffer(): BufferâŠ
    export function appendBuffer(buf: Buffer): BufferâŠ
    export function getEmptyBuffer(): BufferâŠ
    export function convertU32Array(input: Uint32Array): Array<number>âŠ
    export function createExternalTypedArray(): Uint32ArrayâŠ
    export function mutateTypedArray(input: Float32Array): voidâŠ
    export function derefUint8Array(a: Uint8Array, b: Uint8ClampedArray): numberâŠ
    export function bufferPassThrough(buf: Buffer): Promise<Buffer>âŠ
    export function arrayBufferPassThrough(buf: Uint8Array): Promise<Uint8Array>âŠ
    export function asyncReduceBuffer(buf: Buffer): Promise<number>âŠ
    /**âŠ
     * \`constructor\` option for \`struct\` requires all fields to be public,âŠ
     * otherwise tag impl fn as constructorâŠ
     * #[napi(constructor)]âŠ
     */âŠ
    export class Animal {âŠ
      /** Kind of animal */âŠ
      readonly kind: KindâŠ
      /** This is the constructor */âŠ
      constructor(kind: Kind, name: string)âŠ
      /** This is a factory method */âŠ
      static withKind(kind: Kind): AnimalâŠ
      get name(): stringâŠ
      set name(name: string)âŠ
      get type(): KindâŠ
      set type(kind: Kind)âŠ
      /**âŠ
       * This is aâŠ
       * multi-line commentâŠ
       * with an emoji ğŸš€âŠ
       */âŠ
      whoami(): stringâŠ
      /** This is static... */âŠ
      static getDogKind(): KindâŠ
      /**âŠ
       * Here are some characters and character sequencesâŠ
       * that should be escaped correctly:âŠ
       * \\[]{}/\\:""âŠ
       */âŠ
      returnOtherClass(): DogâŠ
      returnOtherClassWithCustomConstructor(): BirdâŠ
      overrideIndividualArgOnMethod(normalTy: string, overriddenTy: {n: string}): BirdâŠ
    }âŠ
    export class Dog {âŠ
      name: stringâŠ
      constructor(name: string)âŠ
    }âŠ
    export class Bird {âŠ
      name: stringâŠ
      constructor(name: string)âŠ
      getCount(): numberâŠ
    }âŠ
    export type Blake2bHasher = Blake2BHasherâŠ
    /** Smoking test for type generation */âŠ
    export class Blake2BHasher {âŠ
      static withKey(key: Blake2bKey): Blake2BHasherâŠ
      update(data: Buffer): voidâŠ
    }âŠ
    export type Blake2bKey = Blake2BKeyâŠ
    export class Blake2BKey { }âŠ
    export class Context {âŠ
      maybeNeed?: booleanâŠ
      buffer: Uint8ArrayâŠ
      constructor()âŠ
      static withData(data: string): ContextâŠ
      static withBuffer(buf: Uint8Array): ContextâŠ
      method(): stringâŠ
    }âŠ
    export class AnimalWithDefaultConstructor {âŠ
      name: stringâŠ
      kind: numberâŠ
      constructor(name: string, kind: number)âŠ
    }âŠ
    export class NinjaTurtle {âŠ
      name: stringâŠ
      /** Create your ninja turtle! ğŸ¢ */âŠ
      static newRaph(): NinjaTurtleâŠ
      getMaskColor(): stringâŠ
      getName(): stringâŠ
      returnThis(this: this): thisâŠ
    }âŠ
    export type JsAssets = AssetsâŠ
    export class Assets {âŠ
      constructor()âŠ
      get(id: number): JsAsset | nullâŠ
    }âŠ
    export type JsAsset = AssetâŠ
    export class Asset {âŠ
      constructor()âŠ
      get filePath(): numberâŠ
    }âŠ
    export class Optional {âŠ
      static optionEnd(required: string, optional?: string | undefined | null): stringâŠ
      static optionStart(optional: string | undefined | null, required: string): stringâŠ
      static optionStartEnd(optional1: string | undefined | null, required: string, optional2?: string | undefined | null): stringâŠ
      static optionOnly(optional?: string | undefined | null): stringâŠ
    }âŠ
    export class NotWritableClass {âŠ
      name: stringâŠ
      constructor(name: string)âŠ
      setName(name: string): voidâŠ
    }âŠ
    export class ClassWithFactory {âŠ
      name: stringâŠ
      static withName(name: string): ClassWithFactoryâŠ
      setName(name: string): thisâŠ
    }âŠ
    export class JsClassForEither {âŠ
      constructor()âŠ
    }âŠ
    export class AnotherClassForEither {âŠ
      constructor()âŠ
    }âŠ
    export class Fib {âŠ
      [Symbol.iterator](): Iterator<number, void, number>âŠ
      constructor()âŠ
    }âŠ
    export class Fib2 {âŠ
      [Symbol.iterator](): Iterator<number, void, number>âŠ
      static create(seed: number): Fib2âŠ
    }âŠ
    export class Fib3 {âŠ
      current: numberâŠ
      next: numberâŠ
      constructor(current: number, next: number)âŠ
      [Symbol.iterator](): Iterator<number, void, number>âŠ
    }âŠ
    export class JsRepo {âŠ
      constructor(dir: string)âŠ
      remote(): JsRemoteâŠ
    }âŠ
    export class JsRemote {âŠ
      name(): stringâŠ
    }âŠ
    export type CSSRuleList = CssRuleListâŠ
    export class CssRuleList {âŠ
      getRules(): Array<string>âŠ
      get parentStyleSheet(): CSSStyleSheetâŠ
      get name(): string | nullâŠ
    }âŠ
    export type CSSStyleSheet = CssStyleSheetâŠ
    export class CssStyleSheet {âŠ
      constructor(name: string, rules: Array<string>)âŠ
      get rules(): CssRuleListâŠ
      anotherCssStyleSheet(): AnotherCssStyleSheetâŠ
    }âŠ
    export type AnotherCSSStyleSheet = AnotherCssStyleSheetâŠ
    export class AnotherCssStyleSheet {âŠ
      get rules(): CssRuleListâŠ
    }âŠ
    export namespace xxh3 {âŠ
      export const ALIGNMENT: numberâŠ
      export function xxh3_64(input: Buffer): bigintâŠ
      /** xxh128 function */âŠ
      export function xxh128(input: Buffer): bigintâŠ
      /** Xxh3 class */âŠ
      export class Xxh3 {âŠ
        constructor()âŠ
        /** update */âŠ
        update(input: Buffer): voidâŠ
        digest(): bigintâŠ
      }âŠ
    }âŠ
    export namespace xxh2 {âŠ
      export function xxh2Plus(a: number, b: number): numberâŠ
      export function xxh3Xxh64Alias(input: Buffer): bigintâŠ
    }âŠ
    `
